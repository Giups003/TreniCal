<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="it.unical.trenical.client.gui.controller.BuyTicketController"
            style="-fx-background-color: linear-gradient(to bottom right, #f5f7fa, #c3cfe2);"
            minWidth="700" minHeight="500" prefWidth="1000" prefHeight="700" maxWidth="1000" maxHeight="700">
    <top>
        <Label text="Acquista Biglietto" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #22304a; -fx-padding: 18px;"/>
    </top>
    <center>
        <GridPane hgap="18" vgap="12" alignment="CENTER" minWidth="600" minHeight="350">
            <columnConstraints>
                <ColumnConstraints percentWidth="50" minWidth="250" halignment="RIGHT"/>
                <ColumnConstraints percentWidth="50" minWidth="250" halignment="LEFT"/>
            </columnConstraints>
            <rowConstraints>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
                <RowConstraints minHeight="40"/>
            </rowConstraints>
            <!-- Partenza -->
            <Label text="Stazione partenza:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <TextField fx:id="departureStationField" promptText="Es: Roma Termini" GridPane.rowIndex="0" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;"/>
            <Label fx:id="departureErrorLabel" text="" GridPane.rowIndex="0" GridPane.columnIndex="2" style="-fx-text-fill: #d0021b; -fx-font-size: 12px;"/>
            <!-- Arrivo -->
            <Label text="Stazione arrivo:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <TextField fx:id="arrivalStationField" promptText="Es: Milano Centrale" GridPane.rowIndex="1" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;"/>
            <Label fx:id="arrivalErrorLabel" text="" GridPane.rowIndex="1" GridPane.columnIndex="2" style="-fx-text-fill: #d0021b; -fx-font-size: 12px;"/>
            <!-- Treno -->
            <Label text="Treno:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;"/>
            <TextField fx:id="trainField" promptText="Selezionato automaticamente" GridPane.rowIndex="2" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #f5f5f5; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;" editable="false">
                <tooltip><Tooltip text="Il treno è selezionato automaticamente in base a partenza e arrivo"/></tooltip>
            </TextField>
            <Label fx:id="trainErrorLabel" text="" GridPane.rowIndex="2" GridPane.columnIndex="2" style="-fx-text-fill: #d0021b; -fx-font-size: 12px;"/>
            <!-- Classe -->
            <Label text="Classe:" GridPane.rowIndex="3" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;"/>
            <ComboBox fx:id="classBox" promptText="Classe" GridPane.rowIndex="3" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;">
                <tooltip><Tooltip text="Seleziona la classe del biglietto"/></tooltip>
            </ComboBox>
            <!-- Numero posti -->
            <Label text="Numero posti:" GridPane.rowIndex="4" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="4" GridPane.columnIndex="1">
                <Spinner fx:id="seatsSpinner" min="1" max="10" initialValue="1">
                    <tooltip><Tooltip text="Seleziona il numero di posti da acquistare"/></tooltip>
                </Spinner>
                <Label fx:id="seatsAvailableLabel" text="Disponibili: -" style="-fx-font-size: 12px; -fx-text-fill: #555;"/>
            </HBox>
            <!-- Data partenza -->
            <Label text="Data partenza:" GridPane.rowIndex="5" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <DatePicker fx:id="datePicker" promptText="Seleziona data" GridPane.rowIndex="5" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;"/>
            <!-- Orario partenza -->
            <Label text="Orario partenza:" GridPane.rowIndex="6" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <ComboBox fx:id="timeBox" promptText="Seleziona orario" GridPane.rowIndex="6" GridPane.columnIndex="1" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;"/>
            <!-- Codice promo -->
            <Label text="Codice promozionale:" GridPane.rowIndex="7" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="7" GridPane.columnIndex="1">
                <TextField fx:id="promoCodeField" promptText="Codice promo (opzionale)" style="-fx-background-radius: 12; -fx-background-color: #fff; -fx-border-color: #c3cfe2; -fx-border-radius: 12; -fx-padding: 8;">
                    <tooltip><Tooltip text="Inserisci un codice promozionale se disponibile"/></tooltip>
                </TextField>
                <Button text="Valida" fx:id="validatePromoButton" onAction="#onValidatePromo" style="-fx-font-size: 14px; -fx-background-radius: 20; -fx-background-color: #1976d2; -fx-text-fill: white; -fx-padding: 6 18;">
                    <tooltip><Tooltip text="Verifica la validità del codice promozionale"/></tooltip>
                </Button>
            </HBox>
            <Label fx:id="promoValidationLabel" text="" GridPane.rowIndex="8" GridPane.columnIndex="1" style="-fx-text-fill: #1976d2;"/>
            <!-- Metodo di pagamento -->
            <Label text="Metodo di pagamento:" GridPane.rowIndex="9" GridPane.columnIndex="0" style="-fx-font-size: 14px; -fx-text-fill: #234a7c;" alignment="CENTER_RIGHT"/>
            <VBox spacing="10" alignment="CENTER_LEFT" GridPane.rowIndex="9" GridPane.columnIndex="1">
                <RadioButton text="Carta di credito" fx:id="creditCardRadio" style="-fx-font-size: 14px; -fx-text-fill: #22304a;">
                    <tooltip><Tooltip text="Paga con carta di credito"/></tooltip>
                </RadioButton>
                <RadioButton text="Portafoglio digitale" fx:id="digitalWalletRadio" style="-fx-font-size: 14px; -fx-text-fill: #22304a;">
                    <tooltip><Tooltip text="Paga con portafoglio digitale"/></tooltip>
                </RadioButton>
            </VBox>
            <!-- Prezzo totale -->
            <Label fx:id="priceLabel" text="Prezzo: -" GridPane.rowIndex="10" GridPane.columnIndex="1" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #1976d2; -fx-padding: 8 0 0 0;" alignment="CENTER_LEFT"/>
        </GridPane>
    </center>
    <bottom>
        <HBox spacing="18" alignment="CENTER" minHeight="60" style="-fx-padding: 18 0 18 0;">
            <Button text="Acquista" fx:id="buyButton" onAction="#onBuy" style="-fx-font-size: 15px; -fx-background-radius: 20; -fx-background-color: #1976d2; -fx-text-fill: white; -fx-padding: 8 30;">
                <tooltip><Tooltip text="Procedi all'acquisto del biglietto"/></tooltip>
            </Button>
            <Button text="Annulla" onAction="#onBackToDashboard" style="-fx-font-size: 15px; -fx-background-radius: 20; -fx-background-color: #d0021b; -fx-text-fill: white; -fx-padding: 8 30;">
                <tooltip><Tooltip text="Torna alla dashboard senza acquistare"/></tooltip>
            </Button>
        </HBox>
    </bottom>
</BorderPane>


